import * as React from 'react';
import * as ReactDOM from 'react-dom';
import { createStore as reduxCreateStore, combineReducers } from 'redux';
import { AnalyseGraph } from '../analyse/AnalyseGraph';
import { AnalysisResult } from "../analyse/AnalysisResult";
import { AnalyseRelatedState } from "../analyse/AnalyseState";
import { analyseReducer } from '../analyse/AnalyseReducer';

export const AnalyseGraphTest = (container: HTMLElement) => {

    const props = {"state":"ready","white":{"blunder":0,"inaccuracy":4,"mistake":1,"acpl":29},"black":{"blunder":0,"inaccuracy":0,"mistake":0,"acpl":15},"analysis":[{"ply":1,"move":"c4","eval":22,"best":"d4","variation":"d4 e6 c4 d5 Nc3 Bb4 Nf3 Nf6 Qa4+ Nc6 Bd2 O-O e3 a5","depth":32,"time":281862,"by":"deep"},{"ply":2,"move":"e6","eval":18,"best":"e5","variation":"e5 Nc3 Bb4 Nd5 Be7 Nf3 d6 g3 Nf6 Nxe7 Qxe7 Bg2 O-O d3","depth":31,"time":140328,"by":"deep"},{"ply":3,"move":"Nc3","eval":38,"best":"d4","variation":"d4 d5 Nc3 c5 cxd5 cxd4 Qa4+ Bd7 Qxd4 exd5 Qxd5 Nc6 Qd2 Nf6","depth":21,"time":1606,"by":"deep"},{"ply":4,"move":"d5","eval":12,"best":"c5","variation":"c5","depth":19,"time":1601,"by":"deep"},{"ply":5,"move":"cxd5","eval":33,"best":"d4","variation":"d4 Nf6 Nf3 Bb4 e3 c5 Bd2 cxd4 exd4 O-O a3 Bxc3 Bxc3 Qc7","depth":18,"time":1633,"by":"deep"},{"ply":6,"move":"exd5","eval":-3,"depth":24,"time":1585,"by":"deep"},{"ply":7,"move":"d4","eval":9,"depth":22,"time":1602,"by":"deep"},{"ply":8,"move":"Nf6","eval":4,"depth":22,"time":1616,"by":"deep"},{"ply":9,"move":"Nf3","eval":11,"best":"Bf4","variation":"Bf4 Bd6 Be5 Bb4 e3 O-O Ne2 Nbd7 a3 Ba5 Bf4 c6 b4 Bb6","depth":20,"time":1673,"by":"deep"},{"ply":10,"move":"Nc6","eval":-1,"best":"Bd6","variation":"Bd6 Bg5 c6 e3 O-O Bd3 h6 Bxf6 Qxf6 O-O Bf5 Bxf5 Qxf5 Qb3","depth":21,"time":1664,"by":"deep"},{"ply":11,"move":"e3","eval":26,"best":"Bg5","variation":"Bg5 Bb4 e3 h6 Bxf6 Qxf6 Bd3 O-O O-O Bxc3 bxc3 Bf5 Bxf5 Qxf5","depth":20,"time":1649,"by":"deep"},{"ply":12,"move":"a6","eval":0,"best":"Bd6","variation":"Bd6 Bd3 O-O O-O Be6 Nb5 Be7 Nc3 Bd6","depth":24,"time":1638,"by":"deep"},{"ply":13,"move":"h3","eval":0,"best":"Bd3","variation":"Bd3 Bd6 O-O O-O h3 h6 Nh4 Ne4 Nf3 Nf6","depth":23,"time":1696,"by":"deep"},{"ply":14,"move":"Bf5","eval":-4,"best":"Bd6","variation":"Bd6 Bd3","depth":20,"time":1626,"by":"deep"},{"ply":15,"move":"Bd3","eval":8,"best":"Nh4","variation":"Nh4 Be4 Bd2 Qd7 Be2 h6 O-O Bh7 f4 Bb4 Nf3 Bxc3 Bxc3 O-O","depth":18,"time":1669,"by":"deep"},{"ply":16,"move":"Bxd3","eval":-18,"depth":27,"time":1460,"by":"deep"},{"ply":17,"move":"Qxd3","eval":-13,"depth":28,"time":1450,"by":"deep"},{"ply":18,"move":"Bd6","eval":-11,"depth":25,"time":1431,"by":"deep"},{"ply":19,"move":"O-O","eval":-16,"depth":26,"time":1481,"by":"deep"},{"ply":20,"move":"O-O","eval":-15,"depth":25,"time":1463,"by":"deep"},{"ply":21,"move":"a3","eval":-11,"best":"Bd2","variation":"Bd2","depth":20,"time":1440,"by":"deep"},{"ply":22,"move":"Re8","eval":-24,"depth":22,"time":1497,"by":"deep"},{"ply":23,"move":"b4","eval":-25,"best":"Re1","variation":"Re1 h6 Bd2 Qe7 Qc2 Qe6 Rac1 Rab8 Re2 Ne4 Be1 f5 Nd2 Ne7","depth":20,"time":1495,"by":"deep"},{"ply":24,"move":"b5","eval":-40,"best":"Ne7","variation":"Ne7","depth":19,"time":1574,"by":"deep"},{"ply":25,"move":"Bb2","eval":4,"best":"Re1","variation":"Re1 Qd7 Bb2 a5 Nxb5 axb4 Nxd6 cxd6 axb4 Nxb4 Qe2 Rxa1 Rxa1 Nc6","depth":20,"time":1496,"by":"deep"},{"ply":26,"move":"Ne7","eval":0,"depth":24,"time":1468,"by":"deep"},{"ply":27,"move":"Rac1","eval":0,"best":"Rfe1","variation":"Rfe1 c6 e4 dxe4 Nxe4 Nxe4 Rxe4 Nd5 Ne5 Bxe5 dxe5 a5 bxa5 Rxa5","depth":21,"time":1490,"by":"deep"},{"ply":28,"move":"c6","eval":-8,"depth":20,"time":1540,"by":"deep"},{"ply":29,"move":"e4","eval":-2,"best":"Rc2","variation":"Rc2 a5 bxa5 Qxa5 Ne5 b4 axb4 Qxb4 Nf3 Reb8 Bc1 Qa5 Rb2 Qc7","depth":21,"time":1551,"by":"deep"},{"ply":30,"move":"dxe4","eval":-36,"depth":24,"time":1423,"by":"deep"},{"ply":31,"move":"Nxe4","eval":-24,"depth":22,"time":1449,"by":"deep"},{"ply":32,"move":"Nxe4","eval":-20,"depth":23,"time":1420,"by":"deep"},{"ply":33,"move":"Qxe4","eval":-22,"depth":22,"time":1400,"by":"deep"},{"ply":34,"move":"Nd5","eval":-24,"depth":23,"time":1457,"by":"deep"},{"ply":35,"move":"Qf5","eval":-16,"best":"Qc2","variation":"Qc2 Rc8 Bc3 Qd7 Rfe1 Rxe1+ Rxe1 Re8 Ne5 Qc7 Bd2 Bxe5 dxe5 Nb6","depth":20,"time":1479,"by":"deep"},{"ply":36,"move":"Qc8","eval":-24,"depth":21,"time":1490,"by":"deep"},{"ply":37,"move":"Qxc8","eval":-17,"best":"Qc2","variation":"Qc2 a5 bxa5 Bf4 Rce1 Rxe1 Rxe1 Rxa5 Ne5 Ra6 Qe4 Ra8 Bc1 Bxe5","depth":21,"time":1405,"by":"deep"},{"ply":38,"move":"Raxc8","eval":-32,"best":"Rexc8","variation":"Rexc8 Ne5 a5 Rxc6 Rxc6 Nxc6 axb4 Nxb4 Bxb4 axb4 Nxb4 Bc3 Nd5 Bd2","depth":23,"time":1251,"by":"deep"},{"ply":39,"move":"Rfe1","eval":-32,"best":"Rc2","variation":"Rc2 Nb6","depth":21,"time":1355,"by":"deep"},{"ply":40,"move":"Rxe1+","eval":-55,"depth":23,"time":1217,"by":"deep"},{"ply":41,"move":"Rxe1","eval":-47,"depth":24,"time":1200,"by":"deep"},{"ply":42,"move":"h6","eval":-39,"best":"f6","variation":"f6 Nd2 Bc7 Nb3 Kf7 Bc1 Rd8 Bd2 Nb6 Bc3 h6 g3 h5 Nc5","depth":21,"time":1280,"by":"deep"},{"ply":43,"move":"Ne5","eval":-27,"best":"Nd2","variation":"Nd2 f6 Nb3 Kf7 Bc1 Bc7 g3 Re8 Rxe8 Kxe8 Kg2 Kf7 Kf3 Bb6","depth":20,"time":1281,"by":"deep"},{"ply":44,"move":"Nf4","eval":-57,"best":"f6","variation":"f6 Nd3 Kf7 Kf1 Nb6 f4 Nc4 Bc3 Re8 Rxe8 Kxe8 Kf2 Nxa3 Kf3","depth":22,"time":1251,"by":"deep"},{"ply":45,"move":"h4","eval":-30,"best":"Nf3","variation":"Nf3 f6 Bc1 Nd5 Nd2 Kf7 Nb3 Re8 Rxe8 Kxe8 Kf1 Kd7 Ke2 h5","depth":21,"time":1274,"by":"deep"},{"ply":46,"move":"Bxe5","eval":-61,"depth":22,"time":1236,"by":"deep"},{"ply":47,"move":"dxe5","eval":-60,"best":"Rxe5","variation":"Rxe5 Nd5 g4 f6 Re1 Kf7 Kg2 Nb6 Kf3 Re8 Rxe8 Kxe8 Bc1 Nc4","depth":24,"time":1155,"by":"deep"},{"ply":48,"move":"c5","eval":-104,"depth":23,"time":1185,"by":"deep"},{"ply":49,"move":"Bc3","eval":-106,"depth":22,"time":1117,"by":"deep"},{"ply":50,"move":"c4","eval":-97,"best":"Nd5","variation":"Nd5 Bd2","depth":22,"time":1208,"by":"deep"},{"ply":51,"move":"Kf1","eval":-65,"best":"g3","variation":"g3","judgment":{"name":"Inaccuracy","comment":"Ошибка. Лучший ход g3","glyph":{"name":"Ошибка","symbol":"?"}},"depth":20,"time":1204,"by":"deep"},{"ply":52,"move":"Nd5","eval":-145,"best":"Rd8","variation":"Rd8","depth":22,"time":1131,"by":"deep"},{"ply":53,"move":"Rc1","eval":-104,"best":"Bd4","variation":"Bd4 Rd8","depth":20,"time":1142,"by":"deep"},{"ply":54,"move":"Re8","eval":-122,"best":"h5","variation":"h5 g3","depth":21,"time":1172,"by":"deep"},{"ply":55,"move":"Bd4","eval":-127,"depth":22,"time":1214,"by":"deep"},{"ply":56,"move":"Rd8","eval":-124,"best":"Kh7","variation":"Kh7 g3 Kg6 Rd1 Rd8 Ke2 Kf5 Ba1 g6 Kf3 Ke6 Ke2 g5 hxg5","depth":21,"time":1262,"by":"deep"},{"ply":57,"move":"Bc3","eval":-112,"best":"Re1","variation":"Re1 Nxb4 Bb6 Rb8 Ba7 Rb7 axb4 Rxa7 Ra1 Kf8 Ke2 Ke7 Ke3 Ke6","depth":22,"time":1136,"by":"deep"},{"ply":58,"move":"Kf8","eval":-150,"best":"Ne7","variation":"Ne7 Ra1 Nd5 Rc1 Kf8 Bd4 Nf4 Rd1 Nd3 Bc3 Ke7 h5 Ke6 g3","depth":21,"time":1234,"by":"deep"},{"ply":59,"move":"g3","eval":-140,"best":"Bd4","variation":"Bd4","depth":23,"time":1250,"by":"deep"},{"ply":60,"move":"Ke7","eval":-183,"best":"Nb6","variation":"Nb6 Re1 Ke7 Re3 Nd5 Rf3 Ke6 Ke2 g5 hxg5 hxg5 g4 Rh8 Bd2","depth":23,"time":1194,"by":"deep"},{"ply":61,"move":"f4","eval":-167,"best":"Ke1","variation":"Ke1 h5 Ba1 Nc7 Rd1 Rxd1+ Kxd1 Nd5 f3 Ke6 Kd2 Kf5 Bb2 Ne7","judgment":{"name":"Inaccuracy","comment":"Ошибка. Лучший ход Ke1","glyph":{"name":"Ошибка","symbol":"?"}},"depth":22,"time":1188,"by":"deep"},{"ply":62,"move":"Ke6","eval":-252,"best":"Ne3+","variation":"Ne3+ Ke2 Rd3 a4 Nd5 Be1 Re3+ Kf1 Ra3 axb5 axb5 Kf2 Ke6 Rd1","depth":21,"time":1197,"by":"deep"},{"ply":63,"move":"Ke2","eval":-223,"best":"Kf2","variation":"Kf2 Ne7","depth":18,"time":1204,"by":"deep"},{"ply":64,"move":"h5","eval":-234,"depth":22,"time":1190,"by":"deep"},{"ply":65,"move":"Kf3","eval":-222,"best":"a4","variation":"a4 bxa4","judgment":{"name":"Mistake","comment":"Ошибка. Лучший ход a4","glyph":{"name":"Ошибка","symbol":"?"}},"depth":20,"time":1234,"by":"deep"},{"ply":66,"move":"Ne7","eval":-426,"depth":24,"time":1167,"by":"deep"},{"ply":67,"move":"Rc2","eval":-402,"best":"Be1","variation":"Be1 Rd3+","judgment":{"name":"Inaccuracy","comment":"Ошибка. Лучший ход Be1","glyph":{"name":"Ошибка","symbol":"?"}},"depth":20,"time":1197,"by":"deep"},{"ply":68,"move":"Rd3+","eval":-464,"depth":20,"time":1170,"by":"deep"},{"ply":69,"move":"Kg2","eval":-464,"best":"Kf2","variation":"Kf2 Nf5","judgment":{"name":"Inaccuracy","comment":"Ошибка. Лучший ход Kf2","glyph":{"name":"Ошибка","symbol":"?"}},"depth":20,"time":1188,"by":"deep"},{"ply":70,"move":"Nf5","eval":-539,"depth":20,"time":1161,"by":"deep"}]};
    const result = new AnalysisResult(props);
    const preloadedState: AnalyseRelatedState = {
        analysis: {
            status: result.state,
            white: result.white,
            black: result.black,
            evals: result.analysis
        }
    }

    const store = reduxCreateStore(
        combineReducers<AnalyseRelatedState>({
            analysis: analyseReducer
        }), preloadedState);

    
    ReactDOM.render(React.createElement(AnalyseGraph, { id: 0, store: store }), container, () => { });
};